# 系統功能列表 (Features List)

## 📋 目錄
1. [事件管理 (Event Management)](#事件管理)
2. [用戶管理 (User Management)](#用戶管理)
3. [簽到系統 (Check-in System)](#簽到系統)
4. [抽獎系統 (Lucky Draw System)](#抽獎系統)
5. [積分系統 (Points System)](#積分系統)
6. [獎品管理 (Prize Management)](#獎品管理)
7. [投票系統 (Voting System)](#投票系統)
8. [參展商管理 (Attendee Management)](#參展商管理)
9. [電子郵件模板 (Email Template)](#電子郵件模板)
10. [表單配置 (Form Configuration)](#表單配置)
11. [支付系統 (Payment System)](#支付系統)
12. [報表與匯出 (Reports & Export)](#報表與匯出)
13. [Banner 管理 (Banner Management)](#banner-管理)
14. [遊戲系統 (Game System)](#遊戲系統)
15. [其他功能 (Other Features)](#其他功能)

---

## 事件管理 (Event Management)

### 基本功能
- ✅ **創建事件** - 創建新的事件
- ✅ **事件列表** - 查看所有事件
- ✅ **事件詳情** - 查看事件詳細信息
- ✅ **更新事件** - 更新事件信息
- ✅ **刪除事件** - 刪除事件

### 事件設置
- ✅ **抽獎設置** - 配置抽獎相關設置
- ✅ **背景圖片上傳** - 上傳抽獎頁面背景圖片
- ✅ **支付事件更新** - 更新支付相關設置

---

## 用戶管理 (User Management)

### 用戶操作
- ✅ **添加用戶** - 手動添加用戶到事件
- ✅ **批量導入用戶** - 通過 Excel 文件批量導入用戶
- ✅ **下載範本文件** - 下載導入範本 Excel 文件
- ✅ **查看用戶列表** - 查看事件的所有用戶
- ✅ **查看用戶詳情** - 查看單個用戶的詳細信息
- ✅ **更新用戶信息** - 更新用戶資料
- ✅ **刪除用戶** - 從事件中移除用戶
- ✅ **批量刪除用戶** - 批量刪除多個用戶

### 用戶功能
- ✅ **用戶登入** - 用戶通過事件專屬登入頁面登入
- ✅ **用戶資料頁面** - 用戶查看和編輯自己的資料
- ✅ **重新發送歡迎郵件** - 為用戶重新發送歡迎郵件

---

## 簽到系統 (Check-in System)

### 簽到功能
- ✅ **QR Code 掃描簽到** - 通過掃描 QR Code 進行簽到
- ✅ **手動簽到** - 在掃描頁面手動標記用戶為已簽到
- ✅ **簽到狀態顯示** - 顯示用戶的簽到狀態
- ✅ **簽到時間記錄** - 記錄用戶簽到的時間

### 掃描頁面
- ✅ **掃描器頁面** - 獨立的掃描頁面（無 sidebar）
- ✅ **用戶列表顯示** - 顯示所有用戶及其簽到狀態
- ✅ **用戶詳情顯示** - 顯示選中用戶的詳細信息
- ✅ **用戶積分顯示** - 在表格中顯示用戶積分
- ✅ **列印功能** - 列印用戶資料標籤

---

## 抽獎系統 (Lucky Draw System)

### 抽獎顯示頁面
- ✅ **抽獎顯示頁面** - 大螢幕顯示抽獎結果
- ✅ **背景圖片顯示** - 顯示自定義背景圖片
- ✅ **控制器狀態顯示** - 顯示控制器連接狀態
- ✅ **獎品選擇顯示** - 顯示當前選擇的獎品
- ✅ **中獎者顯示** - 顯示所有中獎者信息
- ✅ **動畫效果** - 抽獎時的動畫效果
- ✅ **Socket.IO 實時更新** - 實時同步抽獎結果

### 抽獎控制面板
- ✅ **iPad 控制面板** - 專為 iPad 設計的控制面板
- ✅ **選擇獎品** - 從獎品列表中選擇要抽的獎品
- ✅ **單次抽獎** - 抽取 1 位中獎者
- ✅ **連續抽獎** - 按指定次數連續抽取
- ✅ **手動指定中獎者** - 手動選擇參與者設為中獎者
- ✅ **取消中獎者** - 取消最後一位中獎者或指定中獎者
- ✅ **獎品數量管理** - 自動更新獎品剩餘數量
- ✅ **獎品還原** - 取消中獎者時自動還原獎品數量

### 中獎者管理
- ✅ **中獎者列表** - 查看所有中獎者
- ✅ **中獎者詳情** - 查看中獎者詳細信息
- ✅ **匯出中獎者列表** - 將中獎者列表匯出為 Excel
- ✅ **刪除中獎者** - 刪除指定的中獎者記錄

### QR Code 登入
- ✅ **QR Code 登入頁面** - 生成 QR Code 供用戶掃描登入

---

## 積分系統 (Points System)

### 積分管理
- ✅ **創建積分類型** - 創建新的積分類型
- ✅ **積分類型列表** - 查看所有積分類型
- ✅ **編輯積分類型** - 編輯積分類型信息
- ✅ **刪除積分類型** - 刪除積分類型
- ✅ **生成 QR Code** - 為積分類型生成 QR Code

### 積分操作
- ✅ **掃描 QR Code 添加積分** - 通過掃描 QR Code 為用戶添加積分
- ✅ **積分掃描器頁面** - 獨立的積分掃描器頁面（無 sidebar）
- ✅ **手動添加積分** - 手動為用戶添加積分
- ✅ **查看用戶積分** - 查看用戶的當前積分
- ✅ **積分歷史記錄** - 查看用戶的積分獲得記錄

### 積分功能
- ✅ **排行榜** - 查看積分排行榜
- ✅ **用戶積分顯示** - 在各種頁面顯示用戶積分

---

## 獎品管理 (Prize Management)

### 獎品操作
- ✅ **創建獎品** - 創建新的獎品
- ✅ **獎品列表** - 查看所有獎品
- ✅ **編輯獎品** - 編輯獎品信息
- ✅ **刪除獎品** - 刪除獎品
- ✅ **上傳獎品圖片** - 上傳獎品圖片
- ✅ **獎品庫存管理** - 管理獎品數量

---

## 投票系統 (Voting System)

### 投票管理
- ✅ **投票管理頁面** - 後台管理投票選項
- ✅ **添加投票選項** - 添加新的投票選項（支持圖片）
- ✅ **刪除投票選項** - 刪除投票選項
- ✅ **更新投票設置** - 更新投票相關設置

### 投票功能
- ✅ **投票頁面** - 用戶投票頁面
- ✅ **提交投票** - 用戶提交投票
- ✅ **查看投票結果** - 查看投票統計結果
- ✅ **檢查用戶投票狀態** - 檢查用戶是否已投票

---

## 參展商管理 (Attendee Management)

### 參展商操作
- ✅ **創建參展商** - 添加新的參展商
- ✅ **參展商列表** - 查看所有參展商
- ✅ **參展商詳情** - 查看參展商詳細信息
- ✅ **參展商登入** - 參展商專屬登入頁面
- ✅ **參展商資料頁面** - 參展商查看和編輯自己的資料

### 參展商積分
- ✅ **添加積分** - 為參展商添加積分
- ✅ **提升積分** - 提升參展商的積分
- ✅ **積分列表** - 查看參展商的積分記錄
- ✅ **促銷代碼頁面** - 添加促銷代碼的頁面

---

## 電子郵件模板 (Email Template)

### 模板管理
- ✅ **模板列表** - 查看所有電子郵件模板
- ✅ **創建模板** - 創建新的電子郵件模板
- ✅ **模板詳情** - 查看模板詳細信息和發送記錄
- ✅ **編輯模板** - 編輯電子郵件模板
- ✅ **刪除模板** - 刪除電子郵件模板

### 模板功能
- ✅ **上傳圖片** - 在模板編輯器中上傳圖片
- ✅ **發送郵件** - 使用模板發送郵件給指定收件人
- ✅ **發送記錄** - 查看郵件發送歷史記錄
- ✅ **範本模板** - 提供範本模板供參考

---

## 表單配置 (Form Configuration)

### 表單設置
- ✅ **表單配置頁面** - 管理事件報名表單配置
- ✅ **獲取表單配置** - 獲取當前表單配置
- ✅ **更新表單配置** - 更新表單字段配置
- ✅ **重置為預設** - 將表單配置重置為預設值

---

## 支付系統 (Payment System)

### Stripe 整合
- ✅ **Stripe Checkout** - 創建 Stripe 支付會話
- ✅ **Stripe Webhook** - 處理 Stripe 支付回調
- ✅ **支付成功處理** - 處理支付成功事件
- ✅ **支付失敗處理** - 處理支付失敗事件
- ✅ **Session 過期處理** - 處理支付會話過期

### 交易記錄
- ✅ **交易記錄頁面** - 查看所有交易記錄
- ✅ **交易狀態追蹤** - 追蹤交易狀態（pending, paid, failed）
- ✅ **交易詳情** - 查看交易詳細信息

---

## 報表與匯出 (Reports & Export)

### 報表功能
- ✅ **用戶報表** - 匯出事件用戶列表為 Excel
- ✅ **中獎者報表** - 匯出中獎者列表為 Excel
- ✅ **報表欄位** - 包含用戶基本信息、簽到狀態、簽到時間等

---

## Banner 管理 (Banner Management)

### Banner 功能
- ✅ **Banner 管理頁面** - 管理事件 Banner
- ✅ **上傳 Banner** - 上傳新的 Banner 圖片
- ✅ **刪除 Banner** - 刪除 Banner 圖片
- ✅ **Banner 顯示** - 在相關頁面顯示 Banner

---

## 遊戲系統 (Game System)

### 遊戲功能
- ✅ **開始遊戲** - 啟動遊戲
- ✅ **結束遊戲** - 結束遊戲
- ✅ **遊戲 API** - 提供遊戲相關 API

---

## 其他功能 (Other Features)

### 系統功能
- ✅ **Socket.IO 實時通信** - 用於抽獎系統的實時更新
- ✅ **QR Code 生成** - 生成各種 QR Code
- ✅ **文件上傳** - 支持圖片和 Excel 文件上傳
- ✅ **Excel 匯入/匯出** - Excel 文件的匯入和匯出功能
- ✅ **響應式設計** - 支持桌面和移動設備
- ✅ **多語言支持** - 支持繁體中文界面

### 用戶體驗
- ✅ **獨立掃描頁面** - 積分掃描器和簽到掃描器獨立頁面
- ✅ **iPad 優化** - 抽獎控制面板專為 iPad 優化
- ✅ **實時狀態顯示** - 顯示控制器連接狀態和獎品選擇狀態
- ✅ **動畫效果** - 抽獎時的視覺動畫效果
- ✅ **Toast 通知** - 操作成功/失敗的提示通知

---

## 技術特性

### 後端技術
- Node.js + Express.js
- MongoDB + Mongoose
- Socket.IO (實時通信)
- Stripe (支付處理)
- ExcelJS (Excel 處理)
- Multer (文件上傳)

### 前端技術
- EJS 模板引擎
- Bootstrap 4
- jQuery
- DataTables (表格功能)
- HTML5 QR Code Scanner
- Socket.IO Client

### 第三方服務
- Stripe (支付)
- AWS SES / SendGrid (郵件發送)
- QR Code API

---

## 數據模型

### 主要模型
- **Event** - 事件模型
- **User** - 用戶模型（嵌入在 Event 中）
- **Prize** - 獎品模型
- **Transaction** - 交易記錄模型
- **EmailTemplate** - 電子郵件模板模型
- **FormConfig** - 表單配置模型
- **Point** - 積分類型模型（嵌入在 Event 中）

---

*最後更新：2024年*


